<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Editor de Slides</title>
<style>
body { font-family: sans-serif; background:#0f1724; color:#e6eef6; display:flex; flex-direction:column; align-items:center; padding:40px; }
input, textarea { width:100%; max-width:500px; padding:8px; margin:6px 0; border-radius:6px; border:none; outline:none; }
button { padding:10px 20px; background:#2dd4bf; border:none; border-radius:6px; color:#072027; cursor:pointer; font-weight:bold; }
button:hover{ background:#22bba5; }
</style>
</head>
<body>
  <h2>Novo Slide</h2>
  <input type="text" id="url" placeholder="URL da imagem ou página" />
  <input type="text" id="title" placeholder="Título do slide" />
  <textarea id="text" rows="4" placeholder="Parágrafo / descrição"></textarea>
  <button id="saveBtn">Salvar slide</button>

  <p id="msg"></p>

<script>
document.getElementById("saveBtn").addEventListener("click", () => {
  const url = document.getElementById("url").value.trim();
  const title = document.getElementById("title").value.trim();
  const text = document.getElementById("text").value.trim();

  if(!url || !title || !text){
    document.getElementById("msg").textContent = "⚠️ Preencha todos os campos!";
    return;
  }

  fetch("slides.php", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ url, title, text })
  })
  .then(r => r.json())
  .then(res => {
    if(res.sucesso){
      document.getElementById("msg").textContent = "✅ Slide salvo com sucesso!";
      document.getElementById("url").value = "";
      document.getElementById("title").value = "";
      document.getElementById("text").value = "";
    } else {
      document.getElementById("msg").textContent = "❌ Erro ao salvar slide.";
    }
  })
  .catch(err => document.getElementById("msg").textContent = "Erro: " + err);
});
</script>
</body>
</html>
